-- Data Visualizer App Database Schema
-- This is a prototype and subject to changes

CREATE DATABASE data_visualizer;
USE data_visualizer;

CREATE TABLE countries (
	id BIGINT NOT NULL AUTO_INCREMENT,
    name VARCHAR(32) UNIQUE NOT NULL,
    code VARCHAR(32) UNIQUE NOT NULL,
    region VARCHAR(128),
    income_group VARCHAR(128),
    special_notes VARCHAR(1024),
    PRIMARY KEY (id)
) 
ENGINE = InnoDB 
AUTO_INCREMENT = 1 
DEFAULT CHARSET = latin1;


CREATE TABLE indicators (
	id BIGINT NOT NULL AUTO_INCREMENT,
    name VARCHAR(512) UNIQUE NOT NULL,
    code VARCHAR(32) UNIQUE NOT NULL,
    source_note VARCHAR(4096),
    source_organization VARCHAR(1024),
    PRIMARY KEY (id)
) 
ENGINE = InnoDB 
AUTO_INCREMENT = 1 
DEFAULT CHARSET = latin1;


CREATE TABLE measurements (
	country_id BIGINT NOT NULL,
    indicator_id BIGINT NOT NULL,
    `1960` DOUBLE, `1961` DOUBLE, `1962` DOUBLE, `1963` DOUBLE, `1964` DOUBLE,
	`1965` DOUBLE, `1966` DOUBLE, `1967` DOUBLE, `1968` DOUBLE, `1969` DOUBLE,
	`1970` DOUBLE, `1971` DOUBLE, `1972` DOUBLE, `1973` DOUBLE, `1974` DOUBLE,
	`1975` DOUBLE, `1976` DOUBLE, `1977` DOUBLE, `1978` DOUBLE, `1979` DOUBLE, 
	`1980` DOUBLE, `1981` DOUBLE, `1982` DOUBLE, `1983` DOUBLE, `1984` DOUBLE,
	`1985` DOUBLE, `1986` DOUBLE, `1987` DOUBLE, `1988` DOUBLE, `1989` DOUBLE, 
	`1990` DOUBLE, `1991` DOUBLE, `1992` DOUBLE, `1993` DOUBLE, `1994` DOUBLE,
	`1995` DOUBLE, `1996` DOUBLE, `1997` DOUBLE, `1998` DOUBLE, `1999` DOUBLE, 
	`2000` DOUBLE, `2001` DOUBLE, `2002` DOUBLE, `2003` DOUBLE, `2004` DOUBLE,
	`2005` DOUBLE, `2006` DOUBLE, `2007` DOUBLE, `2008` DOUBLE, `2009` DOUBLE, 
	`2010` DOUBLE, `2011` DOUBLE, `2012` DOUBLE, `2013` DOUBLE, `2014` DOUBLE,
	`2015` DOUBLE, `2016` DOUBLE, `2017` DOUBLE, `2018` DOUBLE, `2019` DOUBLE, 
	`2020` DOUBLE,
    PRIMARY KEY (country_id, indicator_id),
    FOREIGN KEY (country_id) REFERENCES countries(id),
    FOREIGN KEY (indicator_id) REFERENCES indicators(id)
) 
ENGINE = InnoDB 
DEFAULT CHARSET = latin1;
-- Data Visualizer Database Schema END